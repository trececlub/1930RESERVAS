<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reservas | 1930</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="reservas-body">
  <main class="reserva-container">
    <section class="form-slide active" id="paso1">
      <h2>¿Cuántas personas?</h2>
      <input type="number" id="personas" min="1" placeholder="Número de personas" />
      <button onclick="nextPaso()">Siguiente</button>
    </section>

    <section class="form-slide" id="paso2">
      <h2>Selecciona una fecha</h2>
      <input type="date" id="fecha" />
      <button onclick="prevPaso()">Atrás</button>
      <button onclick="nextPaso()">Siguiente</button>
    </section>

    <section class="form-slide" id="paso3">
      <h2>Selecciona la hora</h2>
      <select id="hora">
        <option value="" disabled selected>Selecciona una hora</option>
        <script>
          const select = document.currentScript.parentElement.querySelector('select');
          for (let h = 17; h <= 21; h++) {
            select.innerHTML += `<option value="${h}:00">${h}:00</option>`;
            select.innerHTML += `<option value="${h}:30">${h}:30</option>`;
          }
          select.innerHTML += `<option value="22:00">22:00</option>`;
        </script>
      </select>
      <button onclick="prevPaso()">Atrás</button>
      <button onclick="nextPaso()">Siguiente</button>
    </section>

    <section class="form-slide" id="paso4">
      <h2>Tus datos</h2>
      <input type="text" id="nombre" placeholder="Tu nombre" />
      <input type="tel" id="telefono" placeholder="Tu número de teléfono" />
      <input type="text" id="ocasion" placeholder="¿Qué ocasión celebras?" />
      <button onclick="prevPaso()">Atrás</button>
      <button onclick="nextPaso()">Siguiente</button>
    </section>

    <section class="form-slide" id="paso5">
      <h2>Confirmar reserva</h2>
      <div id="resumen"></div>
      <button onclick="prevPaso()">Atrás</button>
      <a id="confirmarBtn" class="btn" href="#" target="_blank">Confirmar vía WhatsApp</a>
    </section>
  </main>

  <script>
    const pasos = document.querySelectorAll('.form-slide');
    let pasoActual = 0;

    function showPaso(index) {
      pasos.forEach((p, i) => {
        p.classList.remove('active');
        if (i === index) {
          p.classList.add('active');
        }
      });
    }

    function nextPaso() {
      if (pasoActual < pasos.length - 1) {
        pasoActual++;
        showPaso(pasoActual);
        if (pasoActual === pasos.length - 1) {
          mostrarResumen();
        }
      }
    }

    function prevPaso() {
      if (pasoActual > 0) {
        pasoActual--;
        showPaso(pasoActual);
      }
    }

    function mostrarResumen() {
      const personas = document.getElementById('personas').value;
      const fecha = document.getElementById('fecha').value;
      const hora = document.getElementById('hora').value;
      const nombre = document.getElementById('nombre').value;
      const telefono = document.getElementById('telefono').value;
      const ocasion = document.getElementById('ocasion').value;

      const resumen = `
        <p><strong>Personas:</strong> ${personas}</p>
        <p><strong>Fecha:</strong> ${fecha}</p>
        <p><strong>Hora:</strong> ${hora}</p>
        <p><strong>Nombre:</strong> ${nombre}</p>
        <p><strong>Teléfono:</strong> ${telefono}</p>
        <p><strong>Ocasión:</strong> ${ocasion}</p>
      `;

      document.getElementById('resumen').innerHTML = resumen;

      const mensaje = `Hola, quiero reservar una mesa en 1930:\n- Personas: ${personas}\n- Fecha: ${fecha}\n- Hora: ${hora}\n- Nombre: ${nombre}\n- Teléfono: ${telefono}\n- Ocasión: ${ocasion}`;
      const whatsappURL = `https://wa.me/573001112233?text=${encodeURIComponent(mensaje)}`;
      document.getElementById('confirmarBtn').href = whatsappURL;
    }
  </script>
</body>
</html>
