<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reservas - Bar</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="reservas">
  <div class="reserva-container">
    <div class="step" id="step-1">
      <h2>¿Cuántas personas?</h2>
      <input type="number" id="personas" min="1" max="20" />
      <button onclick="nextStep(2)">Siguiente</button>
    </div>

    <div class="step" id="step-2" style="display:none">
      <h2>Selecciona una fecha</h2>
      <input type="date" id="fecha" />
      <button onclick="nextStep(3)">Siguiente</button>
    </div>

    <div class="step" id="step-3" style="display:none">
      <h2>Selecciona una hora</h2>
      <select id="hora"></select>
      <button onclick="nextStep(4)">Siguiente</button>
    </div>

    <div class="step" id="step-4" style="display:none">
      <h2>Datos de la reserva</h2>
      <input type="text" id="nombre" placeholder="Nombre" required />
      <input type="tel" id="telefono" placeholder="Teléfono" required />
      <input type="text" id="ocasión" placeholder="Tipo de ocasión (opcional)" />
      <button onclick="confirmarReserva()">Confirmar</button>
    </div>

    <div class="step" id="step-5" style="display:none">
      <h2>Reserva confirmada</h2>
      <p>Gracias por reservar con nosotros. Haz clic en el botón para confirmar por WhatsApp.</p>
      <a id="whatsapp-link" class="boton" target="_blank">Enviar por WhatsApp</a>
    </div>
  </div>

  <script>
    function nextStep(step) {
      document.querySelectorAll('.step').forEach(s => s.style.display = 'none');
      document.getElementById(`step-${step}`).style.display = 'block';
    }

    function confirmarReserva() {
      const personas = document.getElementById('personas').value;
      const fecha = document.getElementById('fecha').value;
      const hora = document.getElementById('hora').value;
      const nombre = document.getElementById('nombre').value;
      const telefono = document.getElementById('telefono').value;
      const ocasion = document.getElementById('ocasión').value;

      const mensaje = `Hola, quiero hacer una reserva para ${personas} persona(s) el día ${fecha} a las ${hora}. Mi nombre es ${nombre}, teléfono: ${telefono}.${ocasion ? ' Ocasión: ' + ocasion : ''}`;
      const telefonoBar = '573001234567'; // Cambia este número por el número real

      const link = `https://wa.me/${telefonoBar}?text=${encodeURIComponent(mensaje)}`;
      document.getElementById('whatsapp-link').href = link;
      nextStep(5);
    }

    window.onload = () => {
      const horaSelect = document.getElementById('hora');
      const startHour = 17;
      const endHour = 22;
      for (let h = startHour; h < endHour; h++) {
        horaSelect.innerHTML += `<option value="${h}:00">${h}:00</option>`;
        horaSelect.innerHTML += `<option value="${h}:30">${h}:30</option>`;
      }
    };
  </script>
</body>
</html>
